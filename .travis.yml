language: android
jdk: oraclejdk8
android:
  components:
  - tools
  - platform-tools
  - build-tools-27.0.3
  - android-27
  - extra-android-m2repository
  - extra-google-google_play_services
  - extra-google-m2repository
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then ./gradlew assembleDebug check --no-daemon
  --stacktrace; fi
- if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then ./gradlew build check --no-daemon
  --stacktrace; fi
sudo: false
deploy:
  provider: releases
  api_key:
    secure: WK/kKL09FEBTCpQg5CDqfZorSybOL+TYMzylqKSgLUilAxByDK6tD0ZHSnNnoZjyX7wC8xhtA9jU/dChUHT4SGPoqDabn1EvfMlGuGym1iIzi76S9yo41llx5Ddjc1uTBsE8PhVWoqC889EeMoVkykOCoYytqJThw61Z9AEq1AWNX2ue/28YLfr0trZWDTZJHOFv61lW6zB0cSOtTCIa7I+//1OLL/pdwvFObj01p879ehctsvdBqPg00iFP6voJBCyu8v8rKEEJWRNT1qU39lb5xC/AR3CWNPXSfiIi7Er7bLJ1OhNXwDSugivaA/iIsBwooRt28reUbrdTkqk15HyU5xB7XsQHEAF6CjscS9wl0urtvNfWbLWV9R9oRAdC+q4OKcGbJ/TUrY5yRmm4V1WmC2V9utCM4iPjG7bSImdq7M7M7/d9YNAOFlLrKjC84PrPFR8bsZM8bO8BWxClyG6w8qpgstG/OcalNuAXsCeYZPSxr9iKlC9aIShH6VNgBQjgrpJ7aRqGD4cNekqfUQJ/7sHuZQJ7pw6rjdAsvkof87BGAjypdhGs5nZ7EysCCD3X7nWVP3TdcE2OfU1MCVSm+nugc40Yccreof2JuR0jgZWVN5evI+rn4wZvgUCVQYs5DJ+VI4qjiXA/tCmT3bKB2LhvfjwpgldxVyv0glc=
  skip_cleanup: true
  file: "./app/build/outputs/apk/release/app-release.apk"
  on:
    branch: master
    tags: true
    repo: shalzz/college-academics
after_deploy: "./gradlew publishRelease --no-daemon --stacktrace"
before_install:
- git fetch --unshallow
- if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then openssl aes-256-cbc -K $encrypted_3476a8f5fa31_key
  -iv $encrypted_3476a8f5fa31_iv -in play-service-account-key.json.enc -out play-service-account-key.json
  -d; fi
env:
  global:
    secure: RozpHxszBR0tYycZmR3ekoQIMfRamGC0Jsp8fMLxE0CrLhfomKGs8L7Eb+c8doTTxQp89kL5+NyZ47YYgUM9JfUmzs8J7Kcth+l6W4uaHjVi+dirg/RqZfBW80SCDlDpdFNxEEQ36YnKzTAInhtONrAvtJZveMHM/sBPbdTvrPxaHkS/9TJcGeQFYptmEYB3248PCP+s5ggufU8xqY+BBkDie0Gl/yqVBRFWR5+x5asEVRmcmhehQ1tkxfNVQPL7eDVbvas6GMjq+o7gTCTcT+kenxGpaDBf9vndSfnzDqFOFAD2Gp8sfE2xRX508zyRC14I8NiJdtm4Ro5R3EFE7VnsCoGzd+ObrwJmh5gTrjg1CFbyEIayaHo9wMqNUQoRJkgMuta6JmZZRn4OnzGOfDnH0knFk4DgubNwaPSM/P8xesfF5402/rfOgti72gS5Km1TsDztCeOFuCFMeMIeu+SNb4KTrlxwqoTIdTe1iz7ogSZAMZIzUNigif3/8/+dYhxERgOS586Ee7V9PCOggTMOuZH0+hFhW8uZL8uYwOSWWA+wnukxj5tLDFGKpLJfr36SpLXwhCgUyspEKaP95qXopGl85AELD5EOWEhzKN+QGZC5K/VL9Y8jAxvqmD6oqaPGfwibSXV1785ihWpolRUOyxyoW+ssfoBLy5qIh+U=
